import './polyfills.server.mjs';
import{a as F,b as I}from"./chunk-QUASJMDA.mjs";import{a as O}from"./chunk-LKQTILZD.mjs";import{j as B,k as M,m as L}from"./chunk-7K2UOMAL.mjs";import{n as E}from"./chunk-RNXSECXI.mjs";import{a as N}from"./chunk-FAVL3NZ2.mjs";import"./chunk-7WYNKHRG.mjs";import{$ as h,Aa as x,Bb as C,Ca as s,Cb as b,Ha as u,Na as y,Ra as g,aa as v,eb as d,fb as n,gb as r,kb as _,lb as p,lc as w,mb as m,nc as W,oc as T,pc as k,vb as a,wb as f,yb as S}from"./chunk-NS5OOVZ2.mjs";import"./chunk-T55IDOPT.mjs";function D(l,i){if(l&1){let e=_();n(0,"div")(1,"div",9)(2,"input",10),p("change",function(c){let o=h(e).$implicit,V=m();return v(V.onBrandCheckboxChange(c,o))}),r(),n(3,"label",11),a(4),r()()()}if(l&2){let e=i.$implicit,t=m();s(2),d("checked",t.selectedBrands.includes(e)),s(2),f(e)}}function $(l,i){if(l&1){let e=_();n(0,"div",20)(1,"div",21)(2,"img",22),p("click",function(){let c=h(e).$implicit,o=m();return v(o.openWatchDetails(c))}),r(),n(3,"div",5)(4,"h5",23),a(5),r(),n(6,"p",24)(7,"small",25),a(8),C(9,"titlecase"),r()(),n(10,"p",26),a(11),C(12,"currency"),r(),n(13,"button",27),p("click",function(){let c=h(e).$implicit,o=m();return v(o.addToCart(c))}),a(14,"Add to Cart"),r()()()()}if(l&2){let e=i.$implicit;s(2),d("src",e.images[0],x)("alt",e.model),s(3),S("",e.brand," ",e.model),s(3),f(b(9,6,e.type)),s(3),f(b(12,8,e.price))}}var P=class l{constructor(i,e,t){this.watchService=i;this.cartService=e;this.modalService=t}watches=[];filteredWatches=[];uniqueBrands=[];selectedBrands=[];selectedTypes=[];ngOnInit(){this.loadWatches()}loadWatches(){this.watchService.getAllWatches().subscribe(i=>{this.watches=i,this.filteredWatches=i,this.uniqueBrands=[...new Set(this.watches.map(e=>e.brand))]})}applyFilters(){this.filteredWatches=this.watches.filter(i=>{let e=this.selectedBrands.length===0||this.selectedBrands.includes(i.brand),t=this.selectedTypes.length===0||this.selectedTypes.includes(i.type);return e&&t})}sortWatches(i){switch(i.target.value){case"price-asc":this.watches.sort((t,c)=>t.price-c.price);break;case"price-desc":this.watches.sort((t,c)=>c.price-t.price);break;case"popularity":this.watches.sort((t,c)=>c.soldCount-t.soldCount);break}}openWatchDetails(i){window.location.href=`/watches/${i.id}`}addToCart(i){this.cartService.addToCart(i)}onBrandCheckboxChange(i,e){i.target.checked?this.selectedBrands.includes(e)||this.selectedBrands.push(e):this.selectedBrands=this.selectedBrands.filter(c=>c!==e),this.applyFilters()}onTypeCheckboxChange(i,e){i.target.checked?this.selectedTypes.includes(e)||this.selectedTypes.push(e):this.selectedTypes=this.selectedTypes.filter(c=>c!==e),this.applyFilters()}static \u0275fac=function(e){return new(e||l)(u(N),u(O),u(F))};static \u0275cmp=y({type:l,selectors:[["app-watch-list"]],decls:37,vars:4,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-md-3"],[1,"card","mb-4"],[1,"card-header","fw-bold"],[1,"card-body"],[1,"mb-3"],[1,"fw-bold","mb-2"],[4,"ngFor","ngForOf"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","checked"],[1,"form-check-label"],[1,"form-select",3,"change"],["value",""],["value","price-asc"],["value","price-desc"],["value","popularity"],[1,"col-md-9"],[1,"row","row-cols-1","row-cols-md-3","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","h-100"],[1,"card-img-top",2,"height","200px","object-fit","cover","cursor","pointer",3,"click","src","alt"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],[1,"card-text","fw-bold"],["type","button",1,"btn","btn-primary","btn-sm","addToCartBtn",3,"click"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),a(5,"Filter Watches"),r(),n(6,"div",5)(7,"div",6)(8,"div",7),a(9,"Brands"),r(),g(10,D,5,2,"div",8),r(),n(11,"div",6)(12,"div",7),a(13,"Types"),r(),n(14,"div",9)(15,"input",10),p("change",function(o){return t.onTypeCheckboxChange(o,"analog")}),r(),n(16,"label",11),a(17,"Analog"),r()(),n(18,"div",9)(19,"input",10),p("change",function(o){return t.onTypeCheckboxChange(o,"digital")}),r(),n(20,"label",11),a(21,"Digital"),r()()(),n(22,"div",6)(23,"div",7),a(24,"Sort By"),r(),n(25,"select",12),p("change",function(o){return t.sortWatches(o)}),n(26,"option",13),a(27,"None"),r(),n(28,"option",14),a(29,"Price: Low to High"),r(),n(30,"option",15),a(31,"Price: High to Low"),r(),n(32,"option",16),a(33,"Popularity"),r()()()()()(),n(34,"div",17)(35,"div",18),g(36,$,15,10,"div",19),r()()()()),e&2&&(s(10),d("ngForOf",t.uniqueBrands),s(5),d("checked",t.selectedTypes.includes("analog")),s(4),d("checked",t.selectedTypes.includes("digital")),s(17),d("ngForOf",t.filteredWatches))},dependencies:[k,w,E,I,L,B,M,W,T],styles:[".card[_ngcontent-%COMP%]{transition:transform .2s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.addToCartBtn[_ngcontent-%COMP%]{background-color:#ffd814;border-radius:15px;color:#000;font-size:11px}"]})};export{P as WatchListComponent};
