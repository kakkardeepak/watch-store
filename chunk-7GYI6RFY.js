import{a as T}from"./chunk-W4BEYFAW.js";import{f as k}from"./chunk-B5FNCT2V.js";import"./chunk-LWUMPYPO.js";import{Aa as f,Ca as r,Ha as x,Na as g,Ra as C,Wb as w,Xb as I,_b as E,ca as u,cb as m,da as v,db as i,eb as e,fb as p,ib as b,jb as _,kb as d,tb as n,ub as S,vb as h,wb as y}from"./chunk-RZNYGHVX.js";function V(a,o){a&1&&(i(0,"div",3)(1,"p",4),n(2,"Your cart is empty"),e(),i(3,"button",5),n(4,"Continue Shopping"),e()())}function $(a,o){if(a&1){let t=b();i(0,"tr")(1,"td")(2,"div",17),p(3,"img",18),i(4,"div")(5,"h6",19),n(6),e(),i(7,"small",20),n(8),e()()()(),i(9,"td"),n(10),e(),i(11,"td")(12,"div",21)(13,"button",22),_("click",function(){let c=u(t).$implicit,s=d(2);return v(s.updateQuantity(c,c.quantity-1))}),n(14,"-"),e(),p(15,"input",23),i(16,"button",22),_("click",function(){let c=u(t).$implicit,s=d(2);return v(s.updateQuantity(c,c.quantity+1))}),n(17,"+"),e()()(),i(18,"td"),n(19),e(),i(20,"td")(21,"button",24),_("click",function(){let c=u(t).$implicit,s=d(2);return v(s.removeFromCart(c.watch.id))}),p(22,"i",25),e()()()}if(a&2){let t=o.$implicit;r(3),m("src",t.watch.images[0],f)("alt",t.watch.model),r(3),y("",t.watch.brand," ",t.watch.model),r(2),S(t.watch.type),r(2),h("$",t.watch.price.toFixed(2)),r(3),m("disabled",t.quantity<=1),r(2),m("value",t.quantity),r(),m("disabled",t.quantity>=t.watch.stock),r(3),h("$",(t.watch.price*t.quantity).toFixed(2))}}function O(a,o){if(a&1){let t=b();i(0,"div")(1,"div",6)(2,"table",7)(3,"thead")(4,"tr")(5,"th"),n(6,"Product"),e(),i(7,"th"),n(8,"Price"),e(),i(9,"th"),n(10,"Quantity"),e(),i(11,"th"),n(12,"Total"),e(),p(13,"th"),e()(),i(14,"tbody"),C(15,$,23,10,"tr",8),e()()(),i(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"h5",13),n(21,"Order Summary"),e(),i(22,"div",14)(23,"span"),n(24,"Subtotal"),e(),i(25,"span"),n(26),e()(),p(27,"hr"),i(28,"div",14)(29,"span",15),n(30,"Total"),e(),i(31,"span",15),n(32),e()(),i(33,"button",16),_("click",function(){u(t);let c=d();return v(c.proceedToCheckout())}),n(34," Proceed to Checkout "),e()()()()()()}if(a&2){let t=d();r(15),m("ngForOf",t.cartItems),r(11),h("$",t.getTotal().toFixed(2)),r(6),h("$",t.getTotal().toFixed(2))}}var F=class a{constructor(o,t){this.cartService=o;this.router=t}cartItems=[];ngOnInit(){this.cartService.getCart().subscribe(o=>{this.cartItems=o})}updateQuantity(o,t){t>0&&t<=o.watch.stock&&this.cartService.updateQuantity(o.watch.id,t)}removeFromCart(o){this.cartService.removeFromCart(o)}getTotal(){return this.cartService.getTotal()}proceedToCheckout(){this.router.navigate(["/checkout"])}static \u0275fac=function(t){return new(t||a)(x(T),x(k))};static \u0275cmp=g({type:a,selectors:[["app-shopping-cart"]],decls:5,vars:2,consts:[[1,"container","mt-4"],["class","text-center mt-5",4,"ngIf"],[4,"ngIf"],[1,"text-center","mt-5"],[1,"lead"],["routerLink","/watches",1,"btn","btn-primary"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"row","justify-content-end","mt-4"],[1,"col-md-4"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"d-flex","justify-content-between","mb-3"],[1,"fw-bold"],[1,"btn","btn-primary","w-100",3,"click"],[1,"d-flex","align-items-center"],[1,"me-3",2,"width","50px","height","50px","object-fit","cover",3,"src","alt"],[1,"mb-0"],[1,"text-muted"],[1,"input-group",2,"width","120px"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","number","readonly","",1,"form-control","text-center",3,"value"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"]],template:function(t,l){t&1&&(i(0,"div",0)(1,"h2"),n(2,"Shopping Cart"),e(),C(3,V,5,0,"div",1)(4,O,35,3,"div",2),e()),t&2&&(r(3),m("ngIf",l.cartItems.length===0),r(),m("ngIf",l.cartItems.length>0))},dependencies:[E,w,I],encapsulation:2})};export{F as ShoppingCartComponent};
