import{a as F,b as I}from"./chunk-FWYHB3P7.js";import{a as N}from"./chunk-W4BEYFAW.js";import{j as B,k as M,m as L}from"./chunk-GCJII3IO.js";import{j as E}from"./chunk-B5FNCT2V.js";import{a as O}from"./chunk-UUNDY7SK.js";import"./chunk-LWUMPYPO.js";import{Aa as x,Ab as b,Ca as s,Ha as u,Na as y,Ra as f,Wb as w,Yb as W,Zb as T,_b as k,ca as h,cb as d,da as v,db as n,eb as r,ib as _,jb as p,kb as m,tb as a,ub as g,wb as S,zb as C}from"./chunk-RZNYGHVX.js";function D(l,t){if(l&1){let e=_();n(0,"div")(1,"div",9)(2,"input",10),p("change",function(c){let o=h(e).$implicit,V=m();return v(V.onBrandCheckboxChange(c,o))}),r(),n(3,"label",11),a(4),r()()()}if(l&2){let e=t.$implicit,i=m();s(2),d("checked",i.selectedBrands.includes(e)),s(2),g(e)}}function $(l,t){if(l&1){let e=_();n(0,"div",20)(1,"div",21)(2,"img",22),p("click",function(){let c=h(e).$implicit,o=m();return v(o.openWatchDetails(c))}),r(),n(3,"div",5)(4,"h5",23),a(5),r(),n(6,"p",24)(7,"small",25),a(8),C(9,"titlecase"),r()(),n(10,"p",26),a(11),C(12,"currency"),r(),n(13,"button",27),p("click",function(){let c=h(e).$implicit,o=m();return v(o.addToCart(c))}),a(14,"Add to Cart"),r()()()()}if(l&2){let e=t.$implicit;s(2),d("src",e.images[0],x)("alt",e.model),s(3),S("",e.brand," ",e.model),s(3),g(b(9,6,e.type)),s(3),g(b(12,8,e.price))}}var P=class l{constructor(t,e,i){this.watchService=t;this.cartService=e;this.modalService=i}watches=[];filteredWatches=[];uniqueBrands=[];selectedBrands=[];selectedTypes=[];ngOnInit(){console.log("WatchListComponent initialized"),this.loadWatches()}loadWatches(){console.log("Loading watches..."),this.watchService.getAllWatches().subscribe(t=>{console.log("Watches loaded:",t),this.watches=t,this.filteredWatches=t,this.uniqueBrands=[...new Set(this.watches.map(e=>e.brand))]})}applyFilters(){this.filteredWatches=this.watches.filter(t=>{let e=this.selectedBrands.length===0||this.selectedBrands.includes(t.brand),i=this.selectedTypes.length===0||this.selectedTypes.includes(t.type);return e&&i})}sortWatches(t){switch(t.target.value){case"price-asc":this.watches.sort((i,c)=>i.price-c.price);break;case"price-desc":this.watches.sort((i,c)=>c.price-i.price);break;case"popularity":this.watches.sort((i,c)=>c.soldCount-i.soldCount);break}}openWatchDetails(t){window.location.href=`/watches/${t.id}`}addToCart(t){this.cartService.addToCart(t)}onBrandCheckboxChange(t,e){t.target.checked?this.selectedBrands.includes(e)||this.selectedBrands.push(e):this.selectedBrands=this.selectedBrands.filter(c=>c!==e),this.applyFilters()}onTypeCheckboxChange(t,e){t.target.checked?this.selectedTypes.includes(e)||this.selectedTypes.push(e):this.selectedTypes=this.selectedTypes.filter(c=>c!==e),this.applyFilters()}static \u0275fac=function(e){return new(e||l)(u(O),u(N),u(F))};static \u0275cmp=y({type:l,selectors:[["app-watch-list"]],decls:37,vars:4,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-md-3"],[1,"card","mb-4"],[1,"card-header","fw-bold"],[1,"card-body"],[1,"mb-3"],[1,"fw-bold","mb-2"],[4,"ngFor","ngForOf"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","checked"],[1,"form-check-label"],[1,"form-select",3,"change"],["value",""],["value","price-asc"],["value","price-desc"],["value","popularity"],[1,"col-md-9"],[1,"row","row-cols-1","row-cols-md-3","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","h-100"],[1,"card-img-top",2,"height","200px","object-fit","cover","cursor","pointer",3,"click","src","alt"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],[1,"card-text","fw-bold"],["type","button",1,"btn","btn-primary","btn-sm","addToCartBtn",3,"click"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),a(5,"Filter Watches"),r(),n(6,"div",5)(7,"div",6)(8,"div",7),a(9,"Brands"),r(),f(10,D,5,2,"div",8),r(),n(11,"div",6)(12,"div",7),a(13,"Types"),r(),n(14,"div",9)(15,"input",10),p("change",function(o){return i.onTypeCheckboxChange(o,"analog")}),r(),n(16,"label",11),a(17,"Analog"),r()(),n(18,"div",9)(19,"input",10),p("change",function(o){return i.onTypeCheckboxChange(o,"digital")}),r(),n(20,"label",11),a(21,"Digital"),r()()(),n(22,"div",6)(23,"div",7),a(24,"Sort By"),r(),n(25,"select",12),p("change",function(o){return i.sortWatches(o)}),n(26,"option",13),a(27,"None"),r(),n(28,"option",14),a(29,"Price: Low to High"),r(),n(30,"option",15),a(31,"Price: High to Low"),r(),n(32,"option",16),a(33,"Popularity"),r()()()()()(),n(34,"div",17)(35,"div",18),f(36,$,15,10,"div",19),r()()()()),e&2&&(s(10),d("ngForOf",i.uniqueBrands),s(5),d("checked",i.selectedTypes.includes("analog")),s(4),d("checked",i.selectedTypes.includes("digital")),s(17),d("ngForOf",i.filteredWatches))},dependencies:[k,w,E,I,L,B,M,W,T],styles:[".card[_ngcontent-%COMP%]{transition:transform .2s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.addToCartBtn[_ngcontent-%COMP%]{background-color:#ffd814;border-radius:15px;color:#000;font-size:11px}"]})};export{P as WatchListComponent};
